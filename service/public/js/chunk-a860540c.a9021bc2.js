(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a860540c"],{"19db":function(t,e,i){"use strict";var a=i("4ec2"),s=i.n(a);s.a},2107:function(t,e,i){"use strict";var a=i("9c11"),s=i.n(a);s.a},"3baf":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"movie-list"},["defaultMovie"===t.type?[i("ul",{staticClass:"default"},t._l(t.movieList,(function(e){return i("li",{key:e.id},[i("router-link",{staticClass:"movie-img",attrs:{tag:"p",to:{name:"movieDetail",params:{id:e.id}}}},[i("img",{attrs:{src:e.imgUrl,alt:""}}),i("span",{staticClass:"detail"},[i("span",{staticClass:"movie-title"},[t._v(t._s(e.name))]),i("span",{staticClass:"movie-score"},[t._v(t._s(e.score))])])]),i("router-link",{staticClass:"buy-ticket",attrs:{tag:"p",to:"movie-buy"}},[t._v("购 票")])],1)})),0)]:"futureMovie"===t.type?[i("ul",{staticClass:"future"},t._l(t.movieList,(function(e,a){return i("li",{key:e.id},[i("router-link",{staticClass:"movie-img",attrs:{tag:"p",to:{name:"movieDetail",params:{id:e.id}}}},[i("img",{attrs:{src:e.imgUrl,alt:""}}),i("span",{staticClass:"detail"},[i("span",{staticClass:"movie-title"},[t._v(t._s(e.name))])])]),i("p",{staticClass:"likes"},[t._v(t._s(t.likesArr[a])+"人想看")]),t._m(0,!0),i("p",{staticClass:"publish-date"},[t._v(t._s(e.publishDate))])],1)})),0)]:t._e(),"movieList"===t.type?[i("ul",{staticClass:"list"},t._l(t.movieList,(function(e){return i("li",{key:e.id},[i("router-link",{staticClass:"movie-img",attrs:{tag:"p",to:{name:"movieDetail",params:{id:e.id}}}},[i("img",{attrs:{src:e.imgUrl,alt:""}}),i("span",{staticClass:"detail"},[i("span",{staticClass:"movie-title"},[t._v(t._s(e.name))]),i("span",{staticClass:"movie-score"},[t._v(t._s(e.score))])])]),i("p",{staticClass:"title"},[t._v(t._s(e.name))]),i("p",{staticClass:"score"},[t._v(t._s(e.score))])],1)})),0)]:t._e(),"related"===t.type?[i("ul",{staticClass:"related"},t._l(t.movieList,(function(e){return i("li",{key:e.id},[i("router-link",{staticClass:"movie-img",attrs:{tag:"p",to:{name:"movieDetail",params:{id:e.id}}}},[i("img",{attrs:{src:e.imgUrl,alt:""}}),i("span",{staticClass:"detail"},[i("span",{staticClass:"movie-title"},[t._v(t._s(e.name))]),i("span",{staticClass:"movie-score"},[t._v(t._s(e.score))])])]),i("p",{staticClass:"title"},[t._v(t._s(e.name))]),i("p",{staticClass:"score"},[t._v(t._s(e.score))])],1)})),0)]:t._e(),0===t.movieList.length?[i("div",{staticClass:"error"},[t._v(" 抱歉，没有找到相关结果，请尝试用其他条件筛选。 ")])]:t._e()],2)},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"movie-btn"},[i("span",[t._v("预告片")]),i("span",[t._v("预售")])])}],n={props:{type:{type:String,required:!0},movieList:{type:Array,required:!0}},data:function(){return{likesArr:[]}},created:function(){for(var t=0;t<8;t++)this.likesArr.push(Math.floor(1e4*Math.random()-1e3+1e3))}},r=n,l=(i("19db"),i("2877")),c=Object(l["a"])(r,a,s,!1,null,null,null);e["a"]=c.exports},"4ec2":function(t,e,i){},"8aae":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page-move util-wrapper"},[i("my-category",{attrs:{listData:t.showType,selectType:t.selectType,selectArea:t.selectArea,selectYear:t.selectYear},on:{change:function(e){return t.changSelect(arguments)}}}),i("my-movie",{attrs:{movieList:t.movieData,type:"movieList"}}),0!==t.movieData.length?[i("el-pagination",{attrs:{background:"","current-page":t.nowPage,"page-size":t.limit,layout:"prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})]:t._e()],2)},s=[],n=(i("4de4"),i("c975"),i("a15b"),i("a434"),i("5530")),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"category"},t._l(t.listData,(function(e){return i("dl",{key:e.id},[i("dt",[t._v(t._s(e.type))]),t._l(e.typeArr,(function(a){return i("dd",{key:a,class:{typeActive:"类型 :"===e.type&&t.selectType===a,areaActive:"区域 :"===e.type&&t.selectArea===a,yearActive:"年代 :"===e.type&&t.selectYear===a},on:{click:function(i){return t.change(e.type,a)}}},[t._v(" "+t._s(a)+" ")])}))],2)})),0)},l=[],c={props:{listData:{type:Object,required:!0},selectType:{type:String,required:!0},selectArea:{type:String,required:!0},selectYear:{type:String,required:!0}},data:function(){return{}},methods:{change:function(t,e){this.$emit("change",t,e)}}},o=c,p=(i("9df8"),i("2877")),u=Object(p["a"])(o,r,l,!1,null,null,null),h=u.exports,v=i("3baf"),m={data:function(){return{listData:[],selectType:"全部",selectArea:"全部",selectYear:"全部",movieData:[],total:0,nowPage:1,limit:24,type:[]}},created:function(){var t=this;this.$api.getMovieTypeList({limit:999},"user").then((function(e){t.listData=e.data})),this.$api.getMovieList({page:this.nowPage,limit:this.limit},"user").then((function(e){t.total=e.count,t.movieData=e.data}))},components:{MyCategory:h,MyMovie:v["a"]},computed:{showType:function(){for(var t={},e=0;e<this.listData.length;e++){var i=this.listData[e];t[i.type]||(t[i.type]={},t[i.type].id=e,t[i.type].type=i.type+" :",t[i.type].typeArr=[],t[i.type].typeArr.push("全部")),t[i.type].typeArr.push(i.typeName)}return t}},methods:{changSelect:function(t){var e=t[0],i=t[1];"类型 :"===e?this.selectType=i:"区域 :"===e?this.selectArea=i:this.selectYear=i},handleSizeChange:function(t){this.nowPage=t},handleCurrentChange:function(t){this.nowPage=t},getData:function(t){var e=this,i={page:this.nowPage,limit:this.limit};this.type=this.type.filter((function(t){return"全部"!==t})),this.type&&(i.type=this.type.join(" ")),this.$api.getMovieList(Object(n["a"])({},i),"user").then((function(t){e.total=t.count,e.movieData=t.data}))}},watch:{nowPage:function(){this.getData()},selectType:function(t,e){-1!==this.type.indexOf(e)&&this.type.splice(this.type.indexOf(e),1),this.nowPage=1,this.type.push(t),this.getData()},selectArea:function(t,e){-1!==this.type.indexOf(e)&&this.type.splice(this.type.indexOf(e),1),this.nowPage=1,this.type.push(t),this.getData()},selectYear:function(t,e){-1!==this.type.indexOf(e)&&this.type.splice(this.type.indexOf(e),1),this.nowPage=1,this.type.push(t),this.getData()}}},f=m,y=(i("2107"),Object(p["a"])(f,a,s,!1,null,null,null));e["default"]=y.exports},"9c11":function(t,e,i){},"9df8":function(t,e,i){"use strict";var a=i("f6fe"),s=i.n(a);s.a},a15b:function(t,e,i){"use strict";var a=i("23e7"),s=i("44ad"),n=i("fc6a"),r=i("a640"),l=[].join,c=s!=Object,o=r("join",",");a({target:"Array",proto:!0,forced:c||!o},{join:function(t){return l.call(n(this),void 0===t?",":t)}})},a434:function(t,e,i){"use strict";var a=i("23e7"),s=i("23cb"),n=i("a691"),r=i("50c4"),l=i("7b0b"),c=i("65f0"),o=i("8418"),p=i("1dde"),u=i("ae40"),h=p("splice"),v=u("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,f=Math.min,y=9007199254740991,d="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!h||!v},{splice:function(t,e){var i,a,p,u,h,v,g=l(this),_=r(g.length),C=s(t,_),b=arguments.length;if(0===b?i=a=0:1===b?(i=0,a=_-C):(i=b-2,a=f(m(n(e),0),_-C)),_+i-a>y)throw TypeError(d);for(p=c(g,a),u=0;u<a;u++)h=C+u,h in g&&o(p,u,g[h]);if(p.length=a,i<a){for(u=C;u<_-a;u++)h=u+a,v=u+i,h in g?g[v]=g[h]:delete g[v];for(u=_;u>_-a+i;u--)delete g[u-1]}else if(i>a)for(u=_-a;u>C;u--)h=u+a-1,v=u+i-1,h in g?g[v]=g[h]:delete g[v];for(u=0;u<i;u++)g[u+C]=arguments[u+2];return g.length=_-a+i,p}})},f6fe:function(t,e,i){}}]);
//# sourceMappingURL=chunk-a860540c.a9021bc2.js.map