(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-354cfb74"],{"032d":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"detail-comp"},["movie"===t.type?[e("div",{staticClass:"content util-wrapper movie"},[e("div",{staticClass:"detail-image"},[e("img",{attrs:{src:t.detailData.imgUrl,alt:""}})]),e("div",{staticClass:"detail-info"},[e("p",{staticClass:"title"},[t._v(t._s(t.detailData.name))]),e("p",{staticClass:"type"},[t._v(t._s(t.detailData.type))]),e("p",{staticClass:"region"},[t._v(t._s(t.detailData.region)+" / "+t._s(t.detailData.duration))]),e("p",{staticClass:"publish"},[t._v(t._s(t.detailData.publishDate))]),e("router-link",{staticClass:"buy-btn",attrs:{tag:"p",to:{name:"cinema",params:{id:t.detailData.id}}}},[t._v(" 立 即 购 票 ")])],1),e("div",{staticClass:"detail-data"},[e("p",[t._v("想看数")]),e("p",{staticClass:"score"},[t._v(t._s(Math.floor(1e6*Math.random()-1e5+1e5)))]),e("p",[t._v("评分")]),e("p",{staticClass:"score"},[t._v(t._s(t.detailData.score))]),e("p",[t._v("累计票房")]),e("p",{staticClass:"score"},[t._v(t._s(t.detailData.income)+"亿")])]),e("div",{staticClass:"info"},[e("p",{staticClass:"title"},[t._v("剧情简介")]),e("p",{staticClass:"content"},[t._v(" "+t._s(t.detailData.introduce)+" ")])])])]:t._e(),"cinema"===t.type?[e("div",{staticClass:"content util-wrapper cinema"},[e("div",{staticClass:"detail-image"},[e("img",{attrs:{src:t.detailData.imgUrl,alt:""}})]),e("div",{staticClass:"detail-info"},[e("p",{staticClass:"title"},[t._v(t._s(t.detailData.name))]),e("p",{staticClass:"address"},[t._v(t._s(t.detailData.address))]),e("p",{staticClass:"mobile"},[t._v("电话: "+t._s(t.detailData.mobile))]),t._m(0),t._l(t.detailData.server,(function(a){return e("p",{key:a.id,staticClass:"server"},[e("span",{staticClass:"title"},[t._v(t._s(a.name))]),e("span",{staticClass:"content"},[t._v(t._s(a.content))])])}))],2)])]:t._e()],2)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("p",{staticClass:"division"},[t._v("影院服务 "),e("span",{staticClass:"symbol"})])}],l={props:{detailData:{type:Object,required:!0},type:{type:String,required:!0}}},n=l,r=(e("55a9"),e("2877")),c=Object(r["a"])(n,s,i,!1,null,null,null);a["a"]=c.exports},"12ae":function(t,a,e){},"19db":function(t,a,e){"use strict";var s=e("4ec2"),i=e.n(s);i.a},"249e":function(t,a,e){},"3baf":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"movie-list"},["defaultMovie"===t.type?[e("ul",{staticClass:"default"},t._l(t.movieList,(function(a){return e("li",{key:a.id},[e("router-link",{staticClass:"movie-img",attrs:{tag:"p",to:{name:"movieDetail",params:{id:a.id}}}},[e("img",{attrs:{src:a.imgUrl,alt:""}}),e("span",{staticClass:"detail"},[e("span",{staticClass:"movie-title"},[t._v(t._s(a.name))]),e("span",{staticClass:"movie-score"},[t._v(t._s(a.score))])])]),e("router-link",{staticClass:"buy-ticket",attrs:{tag:"p",to:"movie-buy"}},[t._v("购 票")])],1)})),0)]:"futureMovie"===t.type?[e("ul",{staticClass:"future"},t._l(t.movieList,(function(a,s){return e("li",{key:a.id},[e("router-link",{staticClass:"movie-img",attrs:{tag:"p",to:{name:"movieDetail",params:{id:a.id}}}},[e("img",{attrs:{src:a.imgUrl,alt:""}}),e("span",{staticClass:"detail"},[e("span",{staticClass:"movie-title"},[t._v(t._s(a.name))])])]),e("p",{staticClass:"likes"},[t._v(t._s(t.likesArr[s])+"人想看")]),t._m(0,!0),e("p",{staticClass:"publish-date"},[t._v(t._s(a.publishDate))])],1)})),0)]:t._e(),"movieList"===t.type?[e("ul",{staticClass:"list"},t._l(t.movieList,(function(a){return e("li",{key:a.id},[e("router-link",{staticClass:"movie-img",attrs:{tag:"p",to:{name:"movieDetail",params:{id:a.id}}}},[e("img",{attrs:{src:a.imgUrl,alt:""}}),e("span",{staticClass:"detail"},[e("span",{staticClass:"movie-title"},[t._v(t._s(a.name))]),e("span",{staticClass:"movie-score"},[t._v(t._s(a.score))])])]),e("p",{staticClass:"title"},[t._v(t._s(a.name))]),e("p",{staticClass:"score"},[t._v(t._s(a.score))])],1)})),0)]:t._e(),"related"===t.type?[e("ul",{staticClass:"related"},t._l(t.movieList,(function(a){return e("li",{key:a.id},[e("router-link",{staticClass:"movie-img",attrs:{tag:"p",to:{name:"movieDetail",params:{id:a.id}}}},[e("img",{attrs:{src:a.imgUrl,alt:""}}),e("span",{staticClass:"detail"},[e("span",{staticClass:"movie-title"},[t._v(t._s(a.name))]),e("span",{staticClass:"movie-score"},[t._v(t._s(a.score))])])]),e("p",{staticClass:"title"},[t._v(t._s(a.name))]),e("p",{staticClass:"score"},[t._v(t._s(a.score))])],1)})),0)]:t._e(),0===t.movieList.length?[e("div",{staticClass:"error"},[t._v(" 抱歉，没有找到相关结果，请尝试用其他条件筛选。 ")])]:t._e()],2)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("p",{staticClass:"movie-btn"},[e("span",[t._v("预告片")]),e("span",[t._v("预售")])])}],l={props:{type:{type:String,required:!0},movieList:{type:Array,required:!0}},data:function(){return{likesArr:[]}},created:function(){for(var t=0;t<8;t++)this.likesArr.push(Math.floor(1e4*Math.random()-1e3+1e3))}},n=l,r=(e("19db"),e("2877")),c=Object(r["a"])(n,s,i,!1,null,null,null);a["a"]=c.exports},"4ec2":function(t,a,e){},"55a9":function(t,a,e){"use strict";var s=e("12ae"),i=e.n(s);i.a},"8d7d":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"cinema-detail"},[e("my-detail",{attrs:{detailData:t.cinemaData,type:"cinema"}}),e("div",{staticClass:"util-wrapper nav"},[e("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[e("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),e("el-breadcrumb-item",{attrs:{to:{path:"/cinema"}}},[t._v("影院")]),e("el-breadcrumb-item",[t._v(t._s(t.cinemaData.name))])],1)],1),e("div",{staticClass:"content util-wrapper"},[e("div",{staticClass:"left-content"},[e("div",{staticClass:"title"},[t._v(" 影片列表 ")]),e("el-collapse",{attrs:{accordion:""},model:{value:t.activeName,callback:function(a){t.activeName=a},expression:"activeName"}},t._l(t.movieListData.data,(function(a){return e("el-collapse-item",{key:a.id,attrs:{title:a.name,name:a.id}},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:a.session,stripe:""},on:{"row-click":t.clickHandle}},[e("el-table-column",{attrs:{prop:"showDate",label:"放映日期"}}),e("el-table-column",{attrs:{prop:"showTime",label:"放映时间"}}),e("el-table-column",{attrs:{prop:"language",label:"语言版本"}}),e("el-table-column",{attrs:{prop:"screen",label:"放映厅"}}),e("el-table-column",{attrs:{prop:"price",label:"售价"}}),e("el-table-column",{attrs:{prop:"id",label:"选座购票"}},[e("span",{staticClass:"buy-btn"},[t._v("选座购票")])])],1)],1)})),1)],1),e("div",{staticClass:"right-content"},[e("div",{staticClass:"title"},[t._v(" 相关电影 ")]),e("div",{staticClass:"content"},[e("my-movie",{attrs:{type:"related",movieList:t.movieListData}})],1)])])],1)},i=[],l=(e("d81d"),e("b0c0"),e("ade3")),n=e("032d"),r=e("3baf"),c={data:function(){return Object(l["a"])({cinemaId:this.$route.params.id,cinemaData:{},movieListData:{},activeName:"1"},"movieListData",[])},components:{MyDetail:n["a"],MyMovie:r["a"]},mounted:function(){this.getData()},methods:{clickHandle:function(t){void 0!=this.$store.state.loginUser.name?(localStorage.setItem("payment",JSON.stringify(t)),this.$router.push({name:"payment"})):(this.$router.push({name:"login"}),this.warning())},warning:function(){this.$notify({title:"警告",message:"登录后才可以选座购票！",type:"warning"})},getData:function(){var t=this;this.$api.getMovieList({limit:15},"user").then((function(a){t.movieListData=a.data})),this.$api.getCinemaFindById(this.cinemaId,"user").then((function(a){t.cinemaData=a})),this.$api.getCinemaServiceList({cinemaid:this.cinemaId},"user").then((function(a){t.$set(t.cinemaData,"server",a.data)})),this.$api.getSessionList({cinemaid:this.cinemaId,limit:999},"user").then((function(a){for(var e={},s=0;s<a.data.length;s++){var i=a.data[s];e[i.Movie.name]||(e[i.Movie.name]=i.Movie)}var l=function(a){var s=e[a];t.$api.getSessionList({cinemaid:t.cinemaId,movieid:s.id},"user").then((function(t){e[a].session=t.data,e[a].session=e[a].session.map((function(a,e){return a.screen=t.data[e].Screen.name,a}))}))};for(var n in e)l(n);t.$set(t.movieListData,"data",e)}))}}},o=c,m=(e("ea1e"),e("2877")),d=Object(m["a"])(o,s,i,!1,null,null,null);a["default"]=d.exports},ea1e:function(t,a,e){"use strict";var s=e("249e"),i=e.n(s);i.a}}]);
//# sourceMappingURL=chunk-354cfb74.b3d8cc8f.js.map